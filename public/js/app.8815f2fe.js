(function(t){function e(e){for(var s,i,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},a=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3c61":function(t,e,n){},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=a,t.exports=o,o.id="4678"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,o,a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"app-header flex space-between align-center mb30"},[n("h1",{on:{click:t.goTo}},[t._v("Mister Toy")]),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Toys")]),t._v(" | "),n("router-link",{attrs:{to:"/admin"}},[t._v("Admin")]),t._v(" | "),n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)]),n("router-view",{staticClass:"router-view mb50"}),t._m(0)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"app-footer"},[n("small",[t._v("Â© 2020 Yuval Beit On - All Rights Reserved")])])}],c={methods:{goTo:function(){this.$router.push("/")}},created:function(){this.$store.dispatch({type:"loadToys"})}},l=c,u=n("2877"),d=Object(u["a"])(l,i,r,!1,null,null,null),p=d.exports,f=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"admin-page"},[n("div",{staticClass:"chart-container"},[t.toys?n("chart",{attrs:{color:t.color,data:t.chartData,labels:t.chartLabels}}):t._e()],1),n("div",{staticClass:"map-container flex column align-center"},[n("div",{staticClass:"map-btns"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.centerMap(0)}}},[t._v("Tel Aviv")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.centerMap(1)}}},[t._v("Netanya")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.centerMap(2)}}},[t._v("Holon")])],1),n("div",{staticClass:"gMap-container"},[n("GmapMap",{staticStyle:{width:"595px",height:"495px"},attrs:{center:t.mapProps.center,zoom:t.mapProps.zoom,"map-type-id":"terrain"}},t._l(t.markers,(function(e,s){return n("GmapMarker",{key:s,attrs:{position:e.position,clickable:!0,draggable:!0},on:{click:function(n){t.center=e.position}}})})),1)],1)])])},m=[],h=(n("4160"),n("caad"),n("13d5"),n("b680"),n("159b"),n("1fca")),v={props:{data:Array,color:String,labels:Array},extends:h["a"],mounted:function(){this.renderChart({labels:this.labels,datasets:[{label:"Avg Price per toy Type",backgroundColor:this.color,data:this.data}]})},watch:{color:function(){this.renderChart({labels:this.labels,datasets:[{label:"Avg Price per toy Type",backgroundColor:this.color,data:this.data}]})}}},b=v,g=Object(u["a"])(b,s,o,!1,null,null,null),j=g.exports,k={components:{chart:j},data:function(){return{color:"rgba(131, 216, 231, 0.644)",markers:[{position:{lat:32.0853,lng:34.781769}},{position:{lat:32.329369,lng:34.856541}},{position:{lat:32.011261,lng:34.774811}}],mapProps:{center:{lat:32.171312,lng:34.812193},zoom:9}}},computed:{toys:function(){return this.$store.getters.toys},chartData:function(){var t=this.toys.reduce((function(t,e){return t[e.type]=t[e.type]?t[e.type]+1:1,t}),{}),e=this.toys.reduce((function(t,e){return t[e.type]=t[e.type]?t[e.type]+e.price:e.price,t}),{}),n=[];for(var s in e)n.push((e[s]/t[s]).toFixed(2));return n},chartLabels:function(){var t=[];return this.toys.forEach((function(e){t.includes(e.type)||t.push(e.type)})),t}},methods:{centerMap:function(t){this.mapProps.zoom=13,this.mapProps.center=this.markers[t].position}}},_=k,C=Object(u["a"])(_,y,m,!1,null,null,null),w=C.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"toy-app pages"},[n("div",{staticClass:"container actions flex space-between align-center"},[n("toy-filter",{staticClass:"flex end "}),n("el-button",{staticClass:"add-toy-btn",on:{click:t.addToy}},[t._v("Add Toy")])],1),t.toys.length?n("toy-list",{attrs:{toys:t.toys},on:{deleteToy:t.deleteToy}}):n("div",{staticClass:"loading flex justify-center"},[n("img",{attrs:{src:"https://i.gifer.com/4V0b.gif",alt:""}})]),n("pop-up",{attrs:{isShowen:t.isPopUpShowen,closePopUp:t.togglePopUp}},[n("h1",{attrs:{slot:"header"},slot:"header"},[t._v("Header slot title")]),n("chat-app"),n("h3",{attrs:{slot:"footer"},slot:"footer"},[t._v("Footer slot title")])],1),n("button",{staticClass:"chat-btn",on:{click:t.togglePopUp}},[n("i",{staticClass:"fas fa-comment-dots chat-icon"})])],1)},S=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toys?n("section",{staticClass:"toy-list container"},[n("ul",{staticClass:"clean list flex wrap align-center gap"},t._l(t.toys,(function(e){return n("toy-preview",{key:e._id,attrs:{toy:e},on:{deleteToy:t.emitDelete}})})),1)]):t._e()},T=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"toy-preview flex column",on:{click:function(e){return e.stopPropagation(),t.toyDetails(t.toy._id)},mouseenter:function(e){t.isHovering=!0},mouseleave:function(e){t.isHovering=!1}}},[t._m(0),n("h4",[t._v(t._s(t.toy.name))]),n("h5",[t._v(t._s(t.toy.type))]),n("h3",[t._v(t._s(t.toy.price)+"$")]),t.toy.inStock?n("h4",{staticClass:"inStock"},[t._v("In stock")]):n("h4",{staticClass:"outOfStock"},[t._v("Out of stock")]),n("transition",{attrs:{name:"fade"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isHovering,expression:"isHovering"}],staticClass:"toy-btns"},[n("button",{on:{click:function(e){return e.stopPropagation(),t.editToy(e)}}},[n("i",{staticClass:"fas fa-edit fa-icon"})]),n("button",{on:{click:function(e){return e.stopPropagation(),t.emitDelete(t.toy._id)}}},[n("i",{staticClass:"fas fa-trash-alt fa-icon"})])])]),n("star-rating",{staticClass:"star-rating",attrs:{increment:.5,"max-rating":5,"inactive-color":"white","active-color":"gold","star-size":15,"border-width":1,"border-color":"#999"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-container ratio-square"},[n("img",{attrs:{src:"https://c0.klipartz.com/pngpicture/590/818/gratis-png-lego-duplo-lego-10615-duplo-mi-primer-tractor-ertl-toy-company-toy.png",alt:""}})])}],O=n("5b3d"),z=n.n(O),E={name:"toy-preview",props:{toy:Object},data:function(){return{isHovering:!1,rating:0}},methods:{emitDelete:function(t){this.$emit("deleteToy",t)},toyDetails:function(t){this.$router.push("/details/".concat(t))},editToy:function(){this.$router.push("/edit/".concat(this.toy._id))},setRating:function(t){this.rating=t},getRandomIntInclusive:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}},components:{StarRating:z.a},created:function(){this.rating=this.getRandomIntInclusive(1,5)}},A=E,I=Object(u["a"])(A,$,B,!1,null,null,null),U=I.exports,M={name:"toy-list",props:{toys:Array},methods:{emitDelete:function(t){this.$emit("deleteToy",t)}},components:{toyPreview:U}},F=M,N=Object(u["a"])(F,P,T,!1,null,null,null),D=N.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"toy-filter"},[n("el-select",{staticClass:"action",on:{change:t.setFilter},model:{value:t.filterBy.type,callback:function(e){t.$set(t.filterBy,"type",e)},expression:"filterBy.type"}},[n("el-option",{attrs:{value:"all",label:"All"}}),t._l(t.types,(function(t,e){return n("el-option",{key:e,attrs:{value:t,label:t}})}))],2),n("el-select",{staticClass:"action",on:{change:t.setFilter},model:{value:t.filterBy.sortBy,callback:function(e){t.$set(t.filterBy,"sortBy",e)},expression:"filterBy.sortBy"}},[n("el-option",{attrs:{value:"name"}},[t._v("Name")]),n("el-option",{attrs:{value:"price"}},[t._v("Price")])],1),n("el-checkbox",{staticClass:"action",attrs:{border:""},on:{change:t.setFilter},model:{value:t.filterBy.inStock,callback:function(e){t.$set(t.filterBy,"inStock",e)},expression:"filterBy.inStock"}},[t._v("In Stock?")])],1)},H=[],L={data:function(){return{filterBy:{type:"all",inStock:!1,sortBy:"name"}}},computed:{types:function(){return console.log("types:",this.$store.getters.types),this.$store.getters.types}},methods:{setFilter:function(){var t=JSON.parse(JSON.stringify(this.filterBy));"all"===t.type&&delete t.type,this.$store.dispatch({type:"setFilterBy",filterBy:t})}},created:function(){this.setFilter()}},R=L,J=Object(u["a"])(R,q,H,!1,null,null,null),V=J.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowen?n("section",{staticClass:"pop-up",attrs:{tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closePopUp(e)}}},[n("div",{staticClass:"pop-up-container flex space-between column"},[n("button",{staticClass:"cls-btn",on:{click:t.closePopUp}},[t._v("X")]),t._t("default")],2)]):t._e()},K=[],X={props:{isShowen:Boolean,closePopUp:Function}},Y=X,Z=Object(u["a"])(Y,G,K,!1,null,null,null),Q=Z.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chat-app"},[n("ul",{staticClass:"msgs clean-list"},t._l(t.msgs,(function(e,s){return n("li",{key:s,staticClass:"msg-preview"},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"chat-controls flex justify-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"chat-input",attrs:{type:"text"},domProps:{value:t.msg},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMsg(e)},input:function(e){e.target.composing||(t.msg=e.target.value)}}}),n("button",{on:{click:t.sendMsg}},[t._v("Send")])])])},tt=[],et={data:function(){return{msgs:[],msg:""}},methods:{sendMsg:function(){this.msgs.push(this.msg),this.msg=""}}},nt=et,st=Object(u["a"])(nt,W,tt,!1,null,null,null),ot=st.exports,at={name:"toy-app",methods:{deleteToy:function(t){this.$store.dispatch({type:"deleteToy",toyId:t})},addToy:function(){this.$router.push("/edit")},togglePopUp:function(){this.$store.dispatch({type:"togglePopUp"})}},computed:{toys:function(){return this.$store.getters.toys},isPopUpShowen:function(){return this.$store.getters.isPopUpShowen}},components:{toyList:D,toyFilter:V,PopUp:Q,ChatApp:ot}},it=at,rt=Object(u["a"])(it,x,S,!1,null,null,null),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toy?n("section",{staticClass:"toy-details flex column justify-center align-center pages"},[n("h2",[t._v(t._s(t.toy.name))]),n("h3",[t._v("Price: "+t._s(t.toy.price))]),n("h3",[t._v("Type: "+t._s(t.toy.type))]),t.toy.inStock?n("h3",{staticClass:"inStock"},[t._v("In stock")]):n("h3",{staticClass:"outOfStock"},[t._v("Out of stock")]),n("el-button",{attrs:{type:"button"},on:{click:t.goBack}},[t._v("Back")])],1):t._e()},ut=[],dt=(n("99af"),n("62c3")),pt=n.n(dt),ft={query:mt,getById:vt,remove:bt,save:gt,getEmpty:_t},yt="/api/toy";function mt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="";t&&(e=ht(t));var n="".concat(yt,"/").concat(e);return console.log("path:",n),pt.a.get(n).then((function(t){return t.data}))}function ht(t){var e="?";return t.sortBy&&(e+="_sort=".concat(t.sortBy,"&")),t.inStock&&(e+="inStock=".concat(t.inStock,"&")),t.type&&(e+="type=".concat(t.type)),console.log("str",e),e}function vt(t){return console.log("id in getById:",t),pt.a.get("".concat(yt,"/").concat(t)).then((function(t){return console.log("res.data",t.data),t.data}))}function bt(t){return pt.a.delete("".concat(yt,"/").concat(t)).then((function(t){return t.data}))}function gt(t){var e=t._id?kt(t):jt(t);return e}function jt(t){return pt.a.post("".concat(yt),t).then((function(t){return t.data}))}function kt(t){return console.log("update in front service:",t),pt.a.put("".concat(yt,"/").concat(t._id),t).then((function(t){return t.data}))}function _t(){return{name:"",price:0,type:"",inStock:!1}}var Ct={data:function(){return{toy:null}},methods:{goBack:function(){this.$router.push("/")}},created:function(){var t=this,e=this.$route.params.id;ft.getById(e).then((function(e){return t.toy=e}))}},wt=Ct,xt=Object(u["a"])(wt,lt,ut,!1,null,null,null),St=xt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toy?n("section",{staticClass:"toy-edit pages"},[n("form",{staticClass:"flex column justify-center align-center"},[n("h2",{staticClass:"edit-title"},[t._v(t._s(t.title))]),n("el-upload",{staticClass:"upload-demo",attrs:{"on-change":t.uploadImg,drag:"",action:"https://jsonplaceholder.typicode.com/posts/","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"show-file-list":""}},[t._v(" > "),n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v(" Drop file here or "),n("em",[t._v("click to upload")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" jpg/png files with a size less than 500kb ")])]),n("h3",[t._v("Name")]),n("ValidationProvider",{attrs:{name:"toy.name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return n("div",{staticClass:"flex column align-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.name,expression:"toy.name"}],domProps:{value:t.toy.name},on:{input:function(e){e.target.composing||t.$set(t.toy,"name",e.target.value)}}}),n("p",{staticClass:"error-msg"},[t._v(t._s(s[0]))])])}}],null,!1,2298726268)}),n("h3",[t._v("Type")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.toy.type,expression:"toy.type"}],staticClass:"action",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.toy,"type",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"Funny"}},[t._v("Funny")]),n("option",{attrs:{value:"Adult"}},[t._v("Adult")]),n("option",{attrs:{value:"Educational"}},[t._v("Educational")])]),n("h3",[t._v("Price")]),n("ValidationProvider",{attrs:{name:"toy.price",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return n("div",{staticClass:"flex column align-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.price,expression:"toy.price"}],domProps:{value:t.toy.price},on:{input:function(e){e.target.composing||t.$set(t.toy,"price",e.target.value)}}}),n("p",{staticClass:"error-msg"},[t._v(t._s(s[0]))])])}}],null,!1,3200588924)}),n("label",{staticClass:"checkbox action"},[t._v("In stock? "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.toy.inStock,expression:"toy.inStock"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.toy.inStock)?t._i(t.toy.inStock,null)>-1:t.toy.inStock},on:{change:function(e){var n=t.toy.inStock,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=null,i=t._i(n,a);s.checked?i<0&&t.$set(t.toy,"inStock",n.concat([a])):i>-1&&t.$set(t.toy,"inStock",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.toy,"inStock",o)}}})]),n("div",{staticClass:"edit-btns"},[n("el-button",{attrs:{type:"button"},on:{click:t.goBack}},[t._v("Back")]),n("el-button",{on:{click:function(e){return e.preventDefault(),t.saveToy(e)}}},[t._v("Save")])],1)],1)]):t._e()},Tt=[],$t=n("5530"),Bt=n("7bb1"),Ot=n("4c93");Object(Bt["b"])("required",Object($t["a"])(Object($t["a"])({},Ot["a"]),{},{message:"This field is required"}));var zt={data:function(){return{isEditing:!1,toy:null,fileList:[]}},computed:{title:function(){return this.isEditing?"Edit toy ".concat(this.toy._id):"Add a toy"}},methods:{goBack:function(){this.$router.push("/")},saveToy:function(){console.log("toy in saveToy:",this.toy);var t=this.isEditing?"editToy":"addToy";this.$store.dispatch({type:t,toy:this.toy}),this.goBack()},uploadImg:function(t,e){console.log("ev:",t,e)},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)}},created:function(){var t=this;if(this.$route.params.id){console.log("id from params:",this.$route.params.id);var e=this.$route.params.id;ft.getById(e).then((function(e){console.log("toy:",e),t.isEditing=!0,t.toy=e}))}else this.toy=ft.getEmpty(),this.isEditing=!1;console.log("toy in edit created:",this.toy)},components:{ValidationProvider:Bt["a"]}},Et=zt,At=(n("fdd7"),Object(u["a"])(Et,Pt,Tt,!1,null,null,null)),It=At.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{staticClass:"login pages flex column pages"},[n("div",{staticClass:"signup-container"},[n("span",[t._v("Need an account? ")]),n("router-link",{staticClass:"signup-btn",attrs:{to:"/signup"}},[t._v("Sign up now!")])],1),n("el-input",{staticClass:"username",attrs:{placeholder:"Enter username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("el-input",{staticClass:"password",attrs:{placeholder:"Entser password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("el-button",{staticClass:"login-btn"},[t._v("Login")])],1)},Mt=[],Ft={data:function(){return{username:null,password:null}}},Nt=Ft,Dt=Object(u["a"])(Nt,Ut,Mt,!1,null,null,null),qt=Dt.exports;a["default"].use(f["a"]);var Ht=[{path:"/",name:"toyApp",component:ct},{path:"/login",name:"login",component:qt},{path:"/admin",name:"Admin",component:w},{path:"/details/:id",component:St},{path:"/edit/:id?",component:It}],Lt=new f["a"]({mode:"hash",base:"/",routes:Ht}),Rt=Lt,Jt=n("2f62"),Vt=(n("c740"),n("a434"),{strict:!0,state:{toys:[],filterBy:null,types:["Adult","Funny","Educational"]},getters:{toys:function(t){return t.toys},types:function(t){return t.types},filterBy:function(t){return t.filterBy}},mutations:{setToys:function(t,e){var n=e.toys;t.toys=n},deleteToy:function(t,e){var n=e.toyId,s=t.toys.findIndex((function(t){return t._id===n}));t.toys.splice(s,1)},setTypes:function(t,e){var n=e.types;t.types=n},setFilterBy:function(t,e){var n=e.filterBy;t.filterBy=n},addToy:function(t,e){var n=e.toy;t.toys.unshift(n)},editToy:function(t,e){var n=e.toy,s=t.toys.findIndex((function(t){return n._id===t._id}));t.toys.splice(s,1,n)}},actions:{loadToys:function(t){var e=t.getters,n=t.commit;return ft.query(e.filterBy).then((function(t){n({type:"setToys",toys:t})}))},deleteToy:function(t,e){var n=t.commit,s=e.toyId;return ft.remove(s).then((function(){n({type:"deleteToy",toyId:s})}))},setFilterBy:function(t,e){var n=e.filterBy;t.commit({type:"setFilterBy",filterBy:n}),t.dispatch("loadToys")},editToy:function(t,e){var n=t.commit,s=e.toy;return console.log("toy in edit store:",s),ft.save(s).then((function(t){n({type:"editToy",toy:t})}))},addToy:function(t,e){var n=t.commit,s=e.toy;return ft.save(s).then((function(t){n({type:"addToy",toy:t})}))}}});a["default"].use(Jt["a"]);var Gt=new Jt["a"].Store({strict:!0,state:{isPopUpShowen:!1},getters:{isPopUpShowen:function(t){return t.isPopUpShowen}},mutations:{togglePopUp:function(t){t.isPopUpShowen=!t.isPopUpShowen}},actions:{togglePopUp:function(t){var e=t.commit;e({type:"togglePopUp"})}},modules:{toyStore:Vt}}),Kt=n("5c96"),Xt=n.n(Kt),Yt=(n("0fae"),n("755e"));n("3c61");a["default"].use(Xt.a),a["default"].use(Yt,{load:{key:"AIzaSyCmhCBEHJkdIG3m11Ua7ZsKbz3u9nMJBuI",libraries:"places"}}),a["default"].config.productionTip=!1,new a["default"]({router:Rt,store:Gt,render:function(t){return t(p)}}).$mount("#app")},"6a66":function(t,e,n){},fdd7:function(t,e,n){"use strict";n("6a66")}});
//# sourceMappingURL=app.8815f2fe.js.map